import{d as w,o as I,A as P,k as z,a as E,c as r,e as t,n,F as v,f as R,u as $,b as o,i as p,h,j as D,t as u,_ as C,s as B,r as g,g as k,w as M,T as U}from"./index-5b28fce1.js";import{u as A}from"./activeElement.store-705f5120.js";const V=t("br",null,null,-1),O=w({__name:"RequestData",props:{requests:{},requestId:{}},emits:["closeRequestData"],setup(b,{emit:q}){const l=b,_=A();I(()=>{_.setActiveElement("request-data")}),P(()=>{_.resetActiveElement()});let s=z(l.requests[0]);return l.requests.find(f=>{f.id===l.requestId&&(s=f)}),(f,e)=>{const a=E("font-awesome-icon");return o(),r("div",{class:n(f.$style.requestData),id:"request-data"},[t("span",{onClick:e[0]||(e[0]=m=>q("closeRequestData")),class:n(f.$style.close)},"x",2),t("h2",{class:n(f.$style.requestDataTitle)},"Dados do pedido",2),t("div",{class:n(f.$style.requestDataList)},[(o(!0),r(v,null,R($(s),(m,c)=>(o(),r(v,null,[c.toString()!="id"?(o(),r("div",{key:0,class:n(f.$style.requestDataInfo)},[t("span",null,[c.toString()==="clientName"?(o(),p(a,{key:0,icon:["fas","circle-user"]})):c.toString()==="clientEmail"?(o(),p(a,{key:1,icon:["fas","envelope-circle-check"]})):c.toString()==="clientSubscription"?(o(),p(a,{key:2,icon:["fas","basket-shopping"]})):c.toString()==="clientSubscriptionPrice"?(o(),p(a,{key:3,icon:["fas","money-check"]})):c.toString()==="status"?(o(),p(a,{key:4,icon:["fas","truck"]})):h("",!0)]),D(u(c==="clientName"?"Nome do cliente: ":c==="clientEmail"?"Email do cliente: ":c==="clientSubscription"?"Tipo de assinatura: ":c==="clientSubscriptionPrice"?"Valor: ":c==="status"?"Status do pedido: ":"")+" ",1),V,D(" "+u(m),1)],2)):h("",!0)],64))),256))],2)],2)}}}),j="_request-data_zyndu_1",G="_close_zyndu_17",J="_request-data__title_zyndu_27",K="_request-data__list_zyndu_33",Q="_request-data__info_zyndu_40",W="_user-info_zyndu_45",X={"request-data":"_request-data_zyndu_1",requestData:j,close:G,"request-data__title":"_request-data__title_zyndu_27",requestDataTitle:J,"request-data__list":"_request-data__list_zyndu_33",requestDataList:K,"request-data__info":"_request-data__info_zyndu_40",requestDataInfo:Q,"user-info":"_user-info_zyndu_45",userInfo:W},Y={$style:X},Z=C(O,[["__cssModules",Y]]),x=t("th",null,"ID",-1),ee=t("th",null,"Cliente",-1),te=t("th",null,"Email",-1),se=t("th",null,"Assinatura",-1),ne=t("th",null,"Valor",-1),ae=t("th",null,"Status",-1),oe=[x,ee,te,se,ne,ae],ie=["onClick"],le=["onClick"],ue=["onClick"],re=["onClick"],_e=["onClick"],ce=["onClick"],de=["onClick"],qe=["onClick"],fe=["onClick"],pe=["onClick"],he=["onClick"],me=["onClick"],ve=["onClick"],ye=["onClick"],ge=["onClick"],$e=["onClick"],be={key:2},ke=w({__name:"RequestsBoard",props:{filterInUse:{},filteredRequest:{},requests:{}},emits:["changeRequest","showRequestData"],setup(b,{emit:q}){const l=s=>{q("changeRequest",s)},_=s=>{q("showRequestData",s)};return(s,f)=>(o(),r("div",{class:n(s.$style.requestsBoard)},[t("table",{class:n(s.$style.requestsTable)},[t("thead",{class:n(s.$style.requestsHeader)},[t("tr",{class:n(s.$style.requestsHeaderRow)},oe,2)],2),t("tbody",{class:n(s.$style.requestsList)},[s.filterInUse==="any"?(o(!0),r(v,{key:0},R(s.requests,e=>(o(),r("tr",{class:n(s.$style.requestsListRow)},[t("td",{onClick:a=>_(e)},u(e.id),9,ie),t("td",{onClick:a=>_(e)},u(e.clientName),9,le),t("td",{onClick:a=>_(e)},u(e.clientEmail),9,ue),t("td",{onClick:a=>_(e)},u(e.clientSubscription),9,re),t("td",{onClick:a=>_(e)},u(Number(e.clientSubscriptionPrice).toFixed(2).replace(".",",")),9,_e),t("td",null,[e.status==="pendente"?(o(),r("button",{key:0,onClick:a=>l(e.id),type:"button",class:n(s.$style.pending)},u(e.status),11,ce)):e.status==="finalizada"?(o(),r("button",{key:1,onClick:a=>l(e.id),type:"button",class:n(s.$style.finished)},u(e.status),11,de)):(o(),r("button",{key:2,onClick:a=>l(e.id),type:"button",class:n(s.$style.processing)},u(e.status),11,qe))])],2))),256)):s.filterInUse&&s.filteredRequest?(o(!0),r(v,{key:1},R(s.filteredRequest,e=>(o(),r("tr",{class:n(s.$style.requestsListRow)},[t("td",{onClick:a=>_(e)},u(e.id),9,fe),t("td",{onClick:a=>_(e)},u(e.clientName),9,pe),t("td",{onClick:a=>_(e)},u(e.clientEmail),9,he),t("td",{onClick:a=>_(e)},u(e.clientSubscription),9,me),t("td",{onClick:a=>_(e)},u(Number(e.clientSubscriptionPrice).toFixed(2).replace(".",",")),9,ve),t("td",null,[e.status==="pendente"?(o(),r("button",{key:0,onClick:a=>l(e.id),type:"button",class:n(s.$style.pending)},u(e.status),11,ye)):e.status==="finalizada"?(o(),r("button",{key:1,onClick:a=>l(e.id),type:"button",class:n(s.$style.finished)},u(e.status),11,ge)):(o(),r("button",{key:2,onClick:a=>l(e.id),type:"button",class:n(s.$style.processing)},u(e.status),11,$e))])],2))),256)):h("",!0),s.filterInUse!=="any"&&s.filteredRequest.length===0?(o(),r("tr",be," Nenhum pedido para listar ")):h("",!0)],2)],2)],2))}}),Re="_requests-board_v9pwx_1",we="_requests-table_v9pwx_4",Ce="_requests-header_v9pwx_9",Se="_requests-header__row_v9pwx_12",De="_requests-list_v9pwx_30",Ie="_requests-list__row_v9pwx_38",ze="_processing_v9pwx_68",Ee="_finished_v9pwx_72",Ae="_pending_v9pwx_76",Ne={"requests-board":"_requests-board_v9pwx_1",requestsBoard:Re,"requests-table":"_requests-table_v9pwx_4",requestsTable:we,"requests-header":"_requests-header_v9pwx_9",requestsHeader:Ce,"requests-header__row":"_requests-header__row_v9pwx_12",requestsHeaderRow:Se,"requests-list":"_requests-list_v9pwx_30",requestsList:De,"requests-list__row":"_requests-list__row_v9pwx_38",requestsListRow:Ie,processing:ze,finished:Ee,pending:Ae},Te={$style:Ne},Le=C(ke,[["__cssModules",Te]]),Fe=t("option",{value:"pendente"},"Pendente",-1),He=t("option",{value:"finalizada"},"Finalizada",-1),Pe=[Fe,He],Be=t("button",{type:"submit"},"Alterar",-1),Me=w({__name:"requests",setup(b){const q=z([{id:1,clientName:"Douglas Silva",clientEmail:"devdouglassilva@gmail.com",clientSubscription:"Plano mensal",clientSubscriptionPrice:46.2,status:"pendente"},{id:2,clientName:"Douglas Souza",clientEmail:"devdouglassilva@gmail.com",clientSubscription:"Plano mensal",clientSubscriptionPrice:34.3,status:"finalizada"}]);B(()=>{});const l=A();I(()=>{});const _=g("any");let s;const f=i=>{i!==_.value&&(_.value=i),i==="any"?s=q:(i==="finalizada"||i==="pendente")&&(s=q.filter(d=>d.status===i))},e=g(!1);let a;const m=g(0),c=g(!1),N=i=>{q.find((d,y)=>{d.id===Number(i)&&(e.value=!0,l.checkIfIsActive("change-request-status")||l.setActiveElement("change-request-status"),a=q[y],console.log(q[y],a))})},T=i=>{const d=new FormData(i.target).get("request-status");a.status=d,e.value=!1,l.setActiveElement("change-request-status")},L=()=>{e.value=!1,l.resetActiveElement()},F=i=>{q.find(d=>{d.id===Number(i.id)&&(m.value=i.id,c.value=!0,l.setActiveElement("request-data"))})},H=()=>{c.value=!c,l.resetActiveElement()};return(i,d)=>{const y=E("font-awesome-icon");return o(),r(v,null,[c.value&&$(l).checkIfIsActive("request-data")?(o(),p(Z,{key:0,requests:q,requestId:m.value,onCloseRequestData:H},null,8,["requests","requestId"])):h("",!0),t("div",{class:n(i.$style.panelRequests)},[k(U,{name:"fade"},{default:M(()=>[e.value&&$(l).checkIfIsActive("change-request-status")?(o(),r("div",{key:0,class:n(i.$style.changeRequestStatus)},[t("span",{onClick:L,class:n(i.$style.cancel)},[k(y,{icon:["fas","close"]})],2),t("h2",{class:n(i.$style.changeRequestStatusTitle)}," Defina o status da requisição ",2),t("form",{action:"#",class:n(i.$style.changeRequestStatusForm),onSubmit:T},[t("select",{name:"request-status",id:"request-status",class:n(i.$style.changeRequestStatusOption)},Pe,2),Be],34)],2)):h("",!0)]),_:1}),t("div",{class:n(i.$style.filterRequests)},[t("menu",{class:n(i.$style.menu)},[t("li",null,[t("button",{onClick:d[0]||(d[0]=S=>f("any")),type:"button"},"Acompanhar")]),t("li",null,[t("button",{onClick:d[1]||(d[1]=S=>f("finalizada")),type:"button"}," Finalizados ")]),t("li",null,[t("button",{onClick:d[2]||(d[2]=S=>f("pendente")),type:"button"},"Pendentes")])],2)],2),k(Le,{onChangeRequest:N,onShowRequestData:F,requests:q,filterInUse:_.value,filteredRequest:$(s)},null,8,["requests","filterInUse","filteredRequest"])],2)],64)}}}),Ue="_panel-requests_1l66f_1",Ve="_filter-requests_1l66f_4",Oe="_menu_1l66f_12",je="_requests-board_1l66f_50",Ge="_requests-table_1l66f_56",Je="_requests-header_1l66f_63",Ke="_requests-header__row_1l66f_67",Qe="_requests-list_1l66f_82",We="_requests-list__row_1l66f_88",Xe="_processing_1l66f_113",Ye="_finished_1l66f_117",Ze="_pending_1l66f_121",xe="_change-request-status_1l66f_138",et="_cancel_1l66f_155",tt="_change-request-status__title_1l66f_165",st="_change-request-status__form_1l66f_170",nt="_change-request-status__option_1l66f_184",at={"panel-requests":"_panel-requests_1l66f_1",panelRequests:Ue,"filter-requests":"_filter-requests_1l66f_4",filterRequests:Ve,menu:Oe,"requests-board":"_requests-board_1l66f_50",requestsBoard:je,"requests-table":"_requests-table_1l66f_56",requestsTable:Ge,"requests-header":"_requests-header_1l66f_63",requestsHeader:Je,"requests-header__row":"_requests-header__row_1l66f_67",requestsHeaderRow:Ke,"requests-list":"_requests-list_1l66f_82",requestsList:Qe,"requests-list__row":"_requests-list__row_1l66f_88",requestsListRow:We,processing:Xe,finished:Ye,pending:Ze,"change-request-status":"_change-request-status_1l66f_138",changeRequestStatus:xe,cancel:et,"change-request-status__title":"_change-request-status__title_1l66f_165",changeRequestStatusTitle:tt,"change-request-status__form":"_change-request-status__form_1l66f_170",changeRequestStatusForm:st,"change-request-status__option":"_change-request-status__option_1l66f_184",changeRequestStatusOption:nt};const ot={$style:at},ut=C(Me,[["__cssModules",ot]]);export{ut as default};
