import{d as I,o as B,B as U,k as A,a as z,b as e,c as o,e as s,n as a,F as b,f as D,i as q,h as y,j as k,t as d,u as w,_ as E,r as $,x as F,g as C,w as T,T as L}from"./index-125305ca.js";import{u as H}from"./activeElement.store-7a635013.js";const V=s("br",null,null,-1),O=I({__name:"RequestData",props:{requests:{},requestId:{}},emits:["closeRequestData"],setup(R,{emit:g}){const h=R,u=H();B(()=>{u.setActiveElement("request-data")}),U(()=>{u.resetActiveElement()});let m=A(h.requests[0]);return h.requests.find(r=>{r.id===h.requestId&&(m=r)}),(r,l)=>{const c=z("font-awesome-icon");return e(),o("div",{class:a(r.$style.requestData),id:"request-data"},[s("span",{onClick:l[0]||(l[0]=n=>g("closeRequestData")),class:a(r.$style.close)},"x",2),s("h2",{class:a(r.$style.requestDataTitle)},"Dados do pedido",2),s("div",{class:a(r.$style.requestDataList)},[(e(!0),o(b,null,D(w(m),(n,_)=>(e(),o(b,null,[_.toString()!="id"?(e(),o("div",{key:0,class:a(r.$style.requestDataInfo)},[s("span",null,[_.toString()==="clientName"?(e(),q(c,{key:0,icon:["fas","circle-user"]})):_.toString()==="clientEmail"?(e(),q(c,{key:1,icon:["fas","envelope-circle-check"]})):_.toString()==="clientSubscription"?(e(),q(c,{key:2,icon:["fas","basket-shopping"]})):_.toString()==="clientSubscriptionPrice"?(e(),q(c,{key:3,icon:["fas","money-check"]})):_.toString()==="status"?(e(),q(c,{key:4,icon:["fas","truck"]})):y("",!0)]),k(d(_==="clientName"?"Nome do cliente: ":_==="clientEmail"?"Email do cliente: ":_==="clientSubscription"?"Tipo de assinatura: ":_==="clientSubscriptionPrice"?"Valor: ":_==="status"?"Status do pedido: ":"")+" ",1),V,k(" "+d(n),1)],2)):y("",!0)],64))),256))],2)],2)}}}),j="_request-data_zyndu_1",W="_close_zyndu_17",G="_request-data__title_zyndu_27",J="_request-data__list_zyndu_33",K="_request-data__info_zyndu_40",Q="_user-info_zyndu_45",X={"request-data":"_request-data_zyndu_1",requestData:j,close:W,"request-data__title":"_request-data__title_zyndu_27",requestDataTitle:G,"request-data__list":"_request-data__list_zyndu_33",requestDataList:J,"request-data__info":"_request-data__info_zyndu_40",requestDataInfo:K,"user-info":"_user-info_zyndu_45",userInfo:Q},Y={$style:X},Z=E(O,[["__cssModules",Y]]),x={key:0},ee=s("th",null,"ID",-1),te=s("th",null,"Cliente",-1),se={key:0},ne={key:1},ae=s("th",null,"Valor",-1),oe=s("th",null,"Status",-1),ie=["onClick"],le=["onClick"],ue=["onClick"],re=["onClick"],ce=["onClick"],_e=["onClick"],de=["onClick"],qe=["onClick"],fe=["onClick"],he=["onClick"],pe=["onClick"],ve=["onClick"],ye=["onClick"],ge=["onClick"],me=["onClick"],ke=["onClick"],$e={key:2},be=I({__name:"RequestsBoard",props:{filterInUse:{},filteredRequest:{},requests:{},requestDataClosed:{type:Boolean,default:!1}},emits:["changeRequest","showRequestData"],setup(R,{emit:g}){const h=R,u=A({hasActive:!1,activeId:-1}),m=$(h.requestDataClosed),r=n=>{u.hasActive=!u.hasActive,u.activeId=parseInt(n.toString()),g("changeRequest",n)},l=n=>{g("showRequestData",n)},c=$(!1);return F(()=>{window.innerWidth<=700&&(c.value=!0)}),(n,_)=>{const p=z("font-awesome-icon");return e(),o("div",{class:a(n.$style.requestsBoard)},[s("table",{class:a([n.$style.requestsTable,{mobile:c.value}])},[c.value?(e(),o("caption",x," Clique sobre o pedido para obter mais informações ")):y("",!0),s("thead",{class:a(n.$style.requestsHeader)},[s("tr",{class:a(n.$style.requestsHeaderRow)},[ee,te,c.value===!1?(e(),o("th",se,"Email")):y("",!0),c.value===!1?(e(),o("th",ne,"Assinatura")):y("",!0),ae,oe],2)],2),s("tbody",{class:a(n.$style.requestsList)},[n.filterInUse==="any"?(e(!0),o(b,{key:0},D(n.requests,t=>(e(),o("tr",{class:a(n.$style.requestsListRow)},[s("td",{onClick:f=>l(t)},d(t.id),9,ie),s("td",{onClick:f=>l(t)},d(t.clientName),9,le),c.value===!1?(e(),o("td",{key:0,onClick:f=>l(t)},d(t.clientEmail),9,ue)):y("",!0),c.value===!1?(e(),o("td",{key:1,onClick:f=>l(t)},d(t.clientSubscription),9,re)):y("",!0),s("td",{onClick:f=>l(t)}," R$"+d(Number(t.clientSubscriptionPrice).toFixed(2).replace(".",",")),9,ce),s("td",null,[t.status==="pendente"?(e(),o("button",{key:0,onClick:f=>r(t.id),type:"button",class:a(n.$style.pending)},[k(d(t.status)+" ",1),u.hasActive&&u.activeId===t.id?(e(),q(p,{key:0,icon:["fas","caret-up"]})):m.value===!1?(e(),q(p,{key:1,icon:["fas","caret-down"]})):y("",!0)],10,_e)):t.status==="finalizada"?(e(),o("button",{key:1,onClick:f=>r(t.id),type:"button",class:a(n.$style.finished)},[k(d(t.status)+" ",1),u.hasActive&&u.activeId===t.id?(e(),q(p,{key:0,icon:["fas","caret-up"]})):(e(),q(p,{key:1,icon:["fas","caret-down"]}))],10,de)):(e(),o("button",{key:2,onClick:f=>r(t.id),type:"button",class:a(n.$style.processing)},[k(d(t.status)+" ",1),u.hasActive&&u.activeId===t.id?(e(),q(p,{key:0,icon:["fas","caret-up"]})):(e(),q(p,{key:1,icon:["fas","caret-down"]}))],10,qe))])],2))),256)):n.filterInUse&&n.filteredRequest?(e(!0),o(b,{key:1},D(n.filteredRequest,t=>(e(),o("tr",{class:a(n.$style.requestsListRow)},[s("td",{onClick:f=>l(t)},d(t.id),9,fe),s("td",{onClick:f=>l(t)},d(t.clientName),9,he),c.value===!1?(e(),o("td",{key:0,onClick:f=>l(t)},d(t.clientEmail),9,pe)):y("",!0),c.value===!1?(e(),o("td",{key:1,onClick:f=>l(t)},d(t.clientSubscription),9,ve)):y("",!0),s("td",{onClick:f=>l(t)},d(Number(t.clientSubscriptionPrice).toFixed(2).replace(".",",")),9,ye),s("td",null,[t.status==="pendente"?(e(),o("button",{key:0,onClick:f=>r(t.id),type:"button",class:a(n.$style.pending)},[k(d(t.status)+" ",1),u?(e(),q(p,{key:0,icon:["fas","caret-up"]})):(e(),q(p,{key:1,icon:["fas","caret-down"]}))],10,ge)):t.status==="finalizada"?(e(),o("button",{key:1,onClick:f=>r(t.id),type:"button",class:a(n.$style.finished)},[k(d(t.status)+" ",1),u?(e(),q(p,{key:0,icon:["fas","caret-up"]})):(e(),q(p,{key:1,icon:["fas","caret-down"]}))],10,me)):(e(),o("button",{key:2,onClick:f=>r(t.id),type:"button",class:a(n.$style.processing)},[k(d(t.status)+" ",1),u?(e(),q(p,{key:0,icon:["fas","caret-up"]})):(e(),q(p,{key:1,icon:["fas","caret-down"]}))],10,ke))])],2))),256)):y("",!0),n.filterInUse!=="any"&&n.filteredRequest.length===0?(e(),o("tr",$e," Nenhum pedido para listar ")):y("",!0)],2)],2)],2)}}}),Re="_requests-board_1qv6g_1",Ce="_requests-table_1qv6g_4",we="_requests-header_1qv6g_9",Se="_requests-header__row_1qv6g_12",De="_requests-list_1qv6g_30",Ie="_requests-list__row_1qv6g_38",Ae="_processing_1qv6g_68",ze="_finished_1qv6g_72",Ee="_pending_1qv6g_76",Ne={"requests-board":"_requests-board_1qv6g_1",requestsBoard:Re,"requests-table":"_requests-table_1qv6g_4",requestsTable:Ce,"requests-header":"_requests-header_1qv6g_9",requestsHeader:we,"requests-header__row":"_requests-header__row_1qv6g_12",requestsHeaderRow:Se,"requests-list":"_requests-list_1qv6g_30",requestsList:De,"requests-list__row":"_requests-list__row_1qv6g_38",requestsListRow:Ie,processing:Ae,finished:ze,pending:Ee},Te={$style:Ne},Le=E(be,[["__cssModules",Te]]),Be=s("option",{value:"pendente"},"Pendente",-1),Fe=s("option",{value:"finalizada"},"Finalizada",-1),He=[Be,Fe],Pe=s("button",{type:"submit"},"Alterar",-1),Me=I({__name:"requests",setup(R){const g=A([{id:1,clientName:"Douglas Silva",clientEmail:"devdouglassilva@gmail.com",clientSubscription:"Plano mensal",clientSubscriptionPrice:46.2,status:"pendente"},{id:2,clientName:"Douglas Souza",clientEmail:"devdouglassilva@gmail.com",clientSubscription:"Plano mensal",clientSubscriptionPrice:34.3,status:"finalizada"}]);F(()=>{});const h=H();B(()=>{});const u=$("any");let m;const r=i=>{i!==u.value&&(u.value=i),i==="any"?m=g:(i==="finalizada"||i==="pendente")&&(m=g.filter(v=>v.status===i))},l=$(!1);let c;const n=$(0),_=$(!1),p=i=>{g.find((v,S)=>{v.id===Number(i)&&(l.value=!0,h.checkIfIsActive("change-request-status")||h.setActiveElement("change-request-status"),c=g[S])})},t=i=>{const v=new FormData(i.target).get("request-status");c.status=v,l.value=!1,h.setActiveElement("change-request-status")},f=()=>{l.value=!l.value,h.resetActiveElement()},P=i=>{g.find(v=>{v.id===Number(i.id)&&(n.value=i.id,_.value=!_.value,h.setActiveElement("request-data"))})},M=()=>{_.value=!_.value,h.resetActiveElement()};return(i,v)=>{const S=z("font-awesome-icon");return e(),o(b,null,[C(L,{name:"fade"},{default:T(()=>[_.value&&w(h).checkIfIsActive("request-data")?(e(),q(Z,{key:0,requests:g,requestId:n.value,onCloseRequestData:M},null,8,["requests","requestId"])):y("",!0)]),_:1}),s("div",{class:a(i.$style.panelRequests)},[C(L,{name:"fade"},{default:T(()=>[l.value&&w(h).checkIfIsActive("change-request-status")?(e(),o("div",{key:0,class:a(i.$style.changeRequestStatus)},[s("span",{onClick:f,class:a(i.$style.cancel)},[C(S,{icon:["fas","close"]})],2),s("h2",{class:a(i.$style.changeRequestStatusTitle)}," Defina o status da requisição ",2),s("form",{action:"#",class:a(i.$style.changeRequestStatusForm),onSubmit:t},[s("select",{name:"request-status",id:"request-status",class:a(i.$style.changeRequestStatusOption)},He,2),Pe],34)],2)):y("",!0)]),_:1}),s("div",{class:a(i.$style.filterRequests)},[s("menu",{class:a(i.$style.menu)},[s("li",null,[s("button",{onClick:v[0]||(v[0]=N=>r("any")),type:"button"},"Acompanhar")]),s("li",null,[s("button",{onClick:v[1]||(v[1]=N=>r("finalizada")),type:"button"}," Finalizados ")]),s("li",null,[s("button",{onClick:v[2]||(v[2]=N=>r("pendente")),type:"button"},"Pendentes")])],2)],2),C(Le,{onChangeRequest:p,onShowRequestData:P,requests:g,filterInUse:u.value,requestDataClosed:l.value,filteredRequest:w(m)},null,8,["requests","filterInUse","requestDataClosed","filteredRequest"])],2)],64)}}}),Ue="_panel-requests_1l66f_1",Ve="_filter-requests_1l66f_4",Oe="_menu_1l66f_12",je="_requests-board_1l66f_50",We="_requests-table_1l66f_56",Ge="_requests-header_1l66f_63",Je="_requests-header__row_1l66f_67",Ke="_requests-list_1l66f_82",Qe="_requests-list__row_1l66f_88",Xe="_processing_1l66f_113",Ye="_finished_1l66f_117",Ze="_pending_1l66f_121",xe="_change-request-status_1l66f_138",et="_cancel_1l66f_155",tt="_change-request-status__title_1l66f_165",st="_change-request-status__form_1l66f_170",nt="_change-request-status__option_1l66f_184",at={"panel-requests":"_panel-requests_1l66f_1",panelRequests:Ue,"filter-requests":"_filter-requests_1l66f_4",filterRequests:Ve,menu:Oe,"requests-board":"_requests-board_1l66f_50",requestsBoard:je,"requests-table":"_requests-table_1l66f_56",requestsTable:We,"requests-header":"_requests-header_1l66f_63",requestsHeader:Ge,"requests-header__row":"_requests-header__row_1l66f_67",requestsHeaderRow:Je,"requests-list":"_requests-list_1l66f_82",requestsList:Ke,"requests-list__row":"_requests-list__row_1l66f_88",requestsListRow:Qe,processing:Xe,finished:Ye,pending:Ze,"change-request-status":"_change-request-status_1l66f_138",changeRequestStatus:xe,cancel:et,"change-request-status__title":"_change-request-status__title_1l66f_165",changeRequestStatusTitle:tt,"change-request-status__form":"_change-request-status__form_1l66f_170",changeRequestStatusForm:st,"change-request-status__option":"_change-request-status__option_1l66f_184",changeRequestStatusOption:nt};const ot={$style:at},ut=E(Me,[["__cssModules",ot]]);export{ut as default};
