var $=(e,o,a)=>{if(!o.has(e))throw TypeError("Cannot "+a)};var d=(e,o,a)=>($(e,o,"read from private field"),a?a.call(e):o.get(e)),k=(e,o,a)=>{if(o.has(e))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(e):o.set(e,a)};import{p as b,d as N,r as y,a as v,c as E,e as s,n,j as r,m as B,i as S,w as u,T as w,h as U,g,b as p,q as L,_ as C}from"./index-fb101987.js";const F=b("auth",{state:()=>({token:"",keepSession:!1}),getters:{getToken:e=>e.token,userLogged:e=>e.token!==""},actions:{login(e,o){this.token=e,o?(localStorage.setItem("auth",e),this.token=e,this.keepSession=!0):(sessionStorage.setItem("auth",e),this.token=e,this.keepSession=!1)},logout(){this.keepSession?localStorage.removeItem("auth"):sessionStorage.removeItem("auth"),this.token=""}}});var c;class I{constructor(){k(this,c,[{email:"cliente@email.com",Document:"11111111111",password:"teste123",FisrtName:"Jane",LastName:"Doe",Type:"CLIENTE"},{email:"admin@email.com",Document:"33333333333",password:"teste123",FisrtName:"John",LastName:"Doe",Type:"ADMIN"}])}GetUser(o,a){return o==null||a==null?void 0:d(this,c).filter(t=>{if(o==t.email&&a==t.password)return t})[0]}AddUser(o){d(this,c).unshift(o)}}c=new WeakMap;const T=new I,q=s("input",{placeholder:"Email",type:"email",name:"email",required:"",autofocus:""},null,-1),x=s("input",{placeholder:"Senha",type:"password",name:"password",required:""},null,-1),M=s("label",{for:"keepSession"},[r(" Lembrar login "),s("input",{type:"checkbox",name:"keepSession",id:"keepSession"})],-1),O=[q,x,M],R=s("input",{type:"submit",value:"Fazer login"},null,-1),V=s("p",null,"Email ou senha incorretos. Tente novamente",-1),z=[V],A=N({__name:"login",setup(e){const o=y(!1),a=y(!1),f=t=>{var _,h;a.value=!1;const l=new FormData(t),m=F(),i=T.GetUser((_=l.get("email"))==null?void 0:_.toString(),(h=l.get("password"))==null?void 0:h.toString());if(console.log(i),i!=null){const D=!!l.get("keepSession");m.login(i.Type,D??!1),L.push("buy-subscription");return}a.value=!0};return(t,l)=>{const m=v("font-awesome-icon"),i=v("RouterLink");return p(),E("main",null,[s("div",{class:n(t.$style.logOnPage)},[s("div",{class:n(t.$style.login)},[s("h1",{class:n(t.$style.loginTitle)},"Login",2),s("div",{class:n(t.$style.welcomeBack)},[s("p",null,[r(" Bem vindo(a), de volta! O "),s("span",{class:n(t.$style.accent)},"Zé do ovo",2),r(" tem o prazer de te ter conosco novamente ")])],2),s("form",{action:"#",class:n(t.$style.loginForm),onSubmit:l[0]||(l[0]=B(_=>f(_.target),["prevent"]))},[s("fieldset",{class:n(t.$style.loginUserData)},O,2),R,o.value?(p(),S(w,{key:0,name:"fade"},{default:u(()=>[s("div",{class:n(t.$style.accountExist)},[s("p",null,[g(m,{icon:["fas","check-square"]}),r(" Conta existente, logando... ")])],2)]),_:1})):a.value?(p(),S(w,{key:1,name:"fade"},{default:u(()=>[s("div",{class:n(t.$style.incorrectData)},z,2)]),_:1})):U("",!0)],34),s("ul",{class:n(t.$style.userHelper)},[s("li",null,[g(i,{to:"/forgot-password"},{default:u(()=>[r("Esqueci minha senha")]),_:1})]),s("li",null,[g(i,{to:"/register"},{default:u(()=>[r("Não tenho conta")]),_:1})])],2)],2)],2)])}}}),H="_log-on-page_12a6s_1",P="_login_12a6s_10",G="_login__form_12a6s_30",J="_login__form_12a6s_30",j="_login__user-data_12a6s_57",Z="_user-helper_12a6s_102",K="_welcome-back_12a6s_125",Q="_accent_12a6s_133",W="_account-exist_12a6s_143",X="_incorrect-data_12a6s_152",Y={"log-on-page":"_log-on-page_12a6s_1",logOnPage:H,login:P,login__form:G,loginForm:J,"login__user-data":"_login__user-data_12a6s_57",loginUserData:j,"user-helper":"_user-helper_12a6s_102",userHelper:Z,"welcome-back":"_welcome-back_12a6s_125",welcomeBack:K,accent:Q,"account-exist":"_account-exist_12a6s_143",accountExist:W,"incorrect-data":"_incorrect-data_12a6s_152",incorrectData:X};const ee={$style:Y},te=C(A,[["__cssModules",ee]]);export{te as default};
