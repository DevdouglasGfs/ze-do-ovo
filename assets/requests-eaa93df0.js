import{d as C,o as I,A as H,k as z,a as E,c as r,e as t,n,F as y,f as R,u as v,b as o,i as h,h as p,j as D,t as u,_ as S,s as P,r as $,g as k,w as B,T as M}from"./index-fb101987.js";import{u as A}from"./activeElement.store-3f65b88a.js";const U=t("br",null,null,-1),V=C({__name:"RequestData",props:{requests:{},requestId:{}},emits:["closeRequestData"],setup(b,{emit:q}){const l=b,_=A();I(()=>{_.setActiveElement("request-data")}),H(()=>{_.resetActiveElement()});let s=z(l.requests[0]);return l.requests.find(f=>{f.id===l.requestId&&(s=f)}),(f,e)=>{const a=E("font-awesome-icon");return o(),r("div",{class:n(f.$style.requestData),id:"request-data"},[t("span",{onClick:e[0]||(e[0]=m=>q("closeRequestData")),class:n(f.$style.close)},"x",2),t("h2",{class:n(f.$style.requestDataTitle)},"Dados do pedido",2),t("div",{class:n(f.$style.requestDataList)},[(o(!0),r(y,null,R(v(s),(m,c)=>(o(),r(y,null,[c.toString()!="id"?(o(),r("div",{key:0,class:n(f.$style.requestDataInfo)},[t("span",null,[c.toString()==="clientName"?(o(),h(a,{key:0,icon:["fas","circle-user"]})):c.toString()==="clientEmail"?(o(),h(a,{key:1,icon:["fas","envelope-circle-check"]})):c.toString()==="clientSubscription"?(o(),h(a,{key:2,icon:["fas","basket-shopping"]})):c.toString()==="clientSubscriptionPrice"?(o(),h(a,{key:3,icon:["fas","money-check"]})):c.toString()==="status"?(o(),h(a,{key:4,icon:["fas","truck"]})):p("",!0)]),D(u(c==="clientName"?"Nome do cliente: ":c==="clientEmail"?"Email do cliente: ":c==="clientSubscription"?"Tipo de assinatura: ":c==="clientSubscriptionPrice"?"Valor: ":c==="status"?"Status do pedido: ":"")+" ",1),U,D(" "+u(m),1)],2)):p("",!0)],64))),256))],2)],2)}}}),O="_request-data_zyndu_1",G="_close_zyndu_17",J="_request-data__title_zyndu_27",K="_request-data__list_zyndu_33",Q="_request-data__info_zyndu_40",W="_user-info_zyndu_45",X={"request-data":"_request-data_zyndu_1",requestData:O,close:G,"request-data__title":"_request-data__title_zyndu_27",requestDataTitle:J,"request-data__list":"_request-data__list_zyndu_33",requestDataList:K,"request-data__info":"_request-data__info_zyndu_40",requestDataInfo:Q,"user-info":"_user-info_zyndu_45",userInfo:W},Y={$style:X},Z=S(V,[["__cssModules",Y]]),x=t("th",null,"ID",-1),ee=t("th",null,"Cliente",-1),te=t("th",null,"Email",-1),se=t("th",null,"Assinatura",-1),ne=t("th",null,"Valor",-1),ae=t("th",null,"Status",-1),oe=[x,ee,te,se,ne,ae],ie=["onClick"],le=["onClick"],ue=["onClick"],re=["onClick"],_e=["onClick"],ce=["onClick"],de=["onClick"],qe=["onClick"],fe=["onClick"],he=["onClick"],pe=["onClick"],me=["onClick"],ye=["onClick"],ge=["onClick"],$e=["onClick"],ve=["onClick"],be={key:2},ke=C({__name:"RequestsBoard",props:{filterInUse:{},filteredRequest:{},requests:{}},emits:["changeRequest","showRequestData"],setup(b,{emit:q}){const l=s=>{q("changeRequest",s)},_=s=>{q("showRequestData",s)};return(s,f)=>(o(),r("div",{class:n(s.$style.requestsBoard)},[t("table",{class:n(s.$style.requestsTable)},[t("thead",{class:n(s.$style.requestsHeader)},[t("tr",{class:n(s.$style.requestsHeaderRow)},oe,2)],2),t("tbody",{class:n(s.$style.requestsList)},[s.filterInUse==="any"?(o(!0),r(y,{key:0},R(s.requests,e=>(o(),r("tr",{class:n(s.$style.requestsListRow)},[t("td",{onClick:a=>_(e)},u(e.id),9,ie),t("td",{onClick:a=>_(e)},u(e.clientName),9,le),t("td",{onClick:a=>_(e)},u(e.clientEmail),9,ue),t("td",{onClick:a=>_(e)},u(e.clientSubscription),9,re),t("td",{onClick:a=>_(e)},u(Number(e.clientSubscriptionPrice).toFixed(2).replace(".",",")),9,_e),t("td",null,[e.status==="pendente"?(o(),r("button",{key:0,onClick:a=>l(e.id),type:"button",class:n(s.$style.pending)},u(e.status),11,ce)):e.status==="finalizada"?(o(),r("button",{key:1,onClick:a=>l(e.id),type:"button",class:n(s.$style.finished)},u(e.status),11,de)):(o(),r("button",{key:2,onClick:a=>l(e.id),type:"button",class:n(s.$style.processing)},u(e.status),11,qe))])],2))),256)):s.filterInUse&&s.filteredRequest?(o(!0),r(y,{key:1},R(s.filteredRequest,e=>(o(),r("tr",{class:n(s.$style.requestsListRow)},[t("td",{onClick:a=>_(e)},u(e.id),9,fe),t("td",{onClick:a=>_(e)},u(e.clientName),9,he),t("td",{onClick:a=>_(e)},u(e.clientEmail),9,pe),t("td",{onClick:a=>_(e)},u(e.clientSubscription),9,me),t("td",{onClick:a=>_(e)},u(Number(e.clientSubscriptionPrice).toFixed(2).replace(".",",")),9,ye),t("td",null,[e.status==="pendente"?(o(),r("button",{key:0,onClick:a=>l(e.id),type:"button",class:n(s.$style.pending)},u(e.status),11,ge)):e.status==="finalizada"?(o(),r("button",{key:1,onClick:a=>l(e.id),type:"button",class:n(s.$style.finished)},u(e.status),11,$e)):(o(),r("button",{key:2,onClick:a=>l(e.id),type:"button",class:n(s.$style.processing)},u(e.status),11,ve))])],2))),256)):p("",!0),s.filterInUse!=="any"&&s.filteredRequest.length===0?(o(),r("tr",be," Nenhum pedido para listar ")):p("",!0)],2)],2)],2))}}),Re="_requests-board_5jafr_1",Ce="_requests-table_5jafr_6",Se="_requests-header_5jafr_11",we="_requests-header__row_5jafr_14",De="_requests-list_5jafr_32",Ie="_requests-list__row_5jafr_40",ze="_processing_5jafr_70",Ee="_finished_5jafr_74",Ae="_pending_5jafr_78",je={"requests-board":"_requests-board_5jafr_1",requestsBoard:Re,"requests-table":"_requests-table_5jafr_6",requestsTable:Ce,"requests-header":"_requests-header_5jafr_11",requestsHeader:Se,"requests-header__row":"_requests-header__row_5jafr_14",requestsHeaderRow:we,"requests-list":"_requests-list_5jafr_32",requestsList:De,"requests-list__row":"_requests-list__row_5jafr_40",requestsListRow:Ie,processing:ze,finished:Ee,pending:Ae},Ne={$style:je},Te=S(ke,[["__cssModules",Ne]]),Le=t("option",{value:"pendente"},"Pendente",-1),Fe=t("option",{value:"finalizada"},"Finalizada",-1),He=[Le,Fe],Pe=t("button",{type:"submit"},"Alterar",-1),Be=C({__name:"requests",setup(b){const q=z([{id:1,clientName:"Douglas Silva",clientEmail:"devdouglassilva@gmail.com",clientSubscription:"Plano mensal",clientSubscriptionPrice:46.2,status:"pendente"},{id:2,clientName:"Douglas Souza",clientEmail:"devdouglassilva@gmail.com",clientSubscription:"Plano mensal",clientSubscriptionPrice:34.3,status:"finalizada"}]);P(()=>{});const l=A();I(()=>{});const _=$("any");let s;const f=i=>{i!==_.value&&(_.value=i),i==="any"?s=q:(i==="finalizada"||i==="pendente")&&(s=q.filter(d=>d.status===i))},e=$(!1);let a;const m=$(0),c=$(!1),j=i=>{q.find((d,g)=>{d.id===Number(i)&&(e.value=!0,l.checkIfIsActive("change-request-status")||l.setActiveElement("change-request-status"),a=q[g],console.log(q[g],a))})},N=i=>{const d=new FormData(i.target).get("request-status");a.status=d,e.value=!1,l.setActiveElement("change-request-status")},T=()=>{e.value=!1,l.resetActiveElement()},L=i=>{q.find(d=>{d.id===Number(i.id)&&(m.value=i.id,c.value=!0,l.setActiveElement("request-data"))})},F=()=>{c.value=!c,l.resetActiveElement()};return(i,d)=>{const g=E("font-awesome-icon");return o(),r(y,null,[c.value&&v(l).checkIfIsActive("request-data")?(o(),h(Z,{key:0,requests:q,requestId:m.value,onCloseRequestData:F},null,8,["requests","requestId"])):p("",!0),t("div",{class:n(i.$style.panelRequests)},[k(M,{name:"fade"},{default:B(()=>[e.value&&v(l).checkIfIsActive("change-request-status")?(o(),r("div",{key:0,class:n(i.$style.changeRequestStatus)},[t("span",{onClick:T,class:n(i.$style.cancel)},[k(g,{icon:["fas","close"]})],2),t("h2",{class:n(i.$style.changeRequestStatusTitle)}," Defina o status da requisição ",2),t("form",{action:"#",class:n(i.$style.changeRequestStatusForm),onSubmit:N},[t("select",{name:"request-status",id:"request-status",class:n(i.$style.changeRequestStatusOption)},He,2),Pe],34)],2)):p("",!0)]),_:1}),t("div",{class:n(i.$style.filterRequests)},[t("menu",{class:n(i.$style.menu)},[t("li",null,[t("button",{onClick:d[0]||(d[0]=w=>f("any")),type:"button"},"Acompanhar")]),t("li",null,[t("button",{onClick:d[1]||(d[1]=w=>f("finalizada")),type:"button"}," Finalizados ")]),t("li",null,[t("button",{onClick:d[2]||(d[2]=w=>f("pendente")),type:"button"},"Pendentes")])],2)],2),k(Te,{onChangeRequest:j,onShowRequestData:L,requests:q,filterInUse:_.value,filteredRequest:v(s)},null,8,["requests","filterInUse","filteredRequest"])],2)],64)}}}),Me="_panel-requests_1l66f_1",Ue="_filter-requests_1l66f_4",Ve="_menu_1l66f_12",Oe="_requests-board_1l66f_50",Ge="_requests-table_1l66f_56",Je="_requests-header_1l66f_63",Ke="_requests-header__row_1l66f_67",Qe="_requests-list_1l66f_82",We="_requests-list__row_1l66f_88",Xe="_processing_1l66f_113",Ye="_finished_1l66f_117",Ze="_pending_1l66f_121",xe="_change-request-status_1l66f_138",et="_cancel_1l66f_155",tt="_change-request-status__title_1l66f_165",st="_change-request-status__form_1l66f_170",nt="_change-request-status__option_1l66f_184",at={"panel-requests":"_panel-requests_1l66f_1",panelRequests:Me,"filter-requests":"_filter-requests_1l66f_4",filterRequests:Ue,menu:Ve,"requests-board":"_requests-board_1l66f_50",requestsBoard:Oe,"requests-table":"_requests-table_1l66f_56",requestsTable:Ge,"requests-header":"_requests-header_1l66f_63",requestsHeader:Je,"requests-header__row":"_requests-header__row_1l66f_67",requestsHeaderRow:Ke,"requests-list":"_requests-list_1l66f_82",requestsList:Qe,"requests-list__row":"_requests-list__row_1l66f_88",requestsListRow:We,processing:Xe,finished:Ye,pending:Ze,"change-request-status":"_change-request-status_1l66f_138",changeRequestStatus:xe,cancel:et,"change-request-status__title":"_change-request-status__title_1l66f_165",changeRequestStatusTitle:tt,"change-request-status__form":"_change-request-status__form_1l66f_170",changeRequestStatusForm:st,"change-request-status__option":"_change-request-status__option_1l66f_184",changeRequestStatusOption:nt};const ot={$style:at},ut=S(Be,[["__cssModules",ot]]);export{ut as default};
