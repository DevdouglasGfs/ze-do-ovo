import{d as C,o as I,A as P,k as z,a as E,c,e as t,n,F as y,f as R,u as v,b as o,i as h,h as p,j as D,t as u,_ as S,s as B,r as $,g as k,w as M,T as U}from"./index-951730b3.js";import{u as A}from"./activeElement.store-a9bc4d31.js";const V=t("br",null,null,-1),O=C({__name:"RequestData",props:{requests:{},requestId:{}},emits:["closeRequestData"],setup(b,{emit:q}){const l=b,r=A();I(()=>{r.setActiveElement("request-data")}),P(()=>{r.resetActiveElement()});let s=z(l.requests[0]);return l.requests.find(f=>{f.id===l.requestId&&(s=f)}),(f,e)=>{const a=E("font-awesome-icon");return o(),c("div",{class:n(f.$style.requestData),id:"request-data"},[t("span",{onClick:e[0]||(e[0]=m=>q("closeRequestData")),class:n(f.$style.close)},"x",2),t("h2",{class:n(f.$style.requestDataTitle)},"Dados do pedido",2),t("div",{class:n(f.$style.requestDataList)},[(o(!0),c(y,null,R(v(s),(m,_)=>(o(),c(y,null,[_.toString()!="id"?(o(),c("div",{key:0,class:n(f.$style.requestDataInfo)},[t("span",null,[_.toString()==="clientName"?(o(),h(a,{key:0,icon:["fas","circle-user"]})):_.toString()==="clientEmail"?(o(),h(a,{key:1,icon:["fas","envelope-circle-check"]})):_.toString()==="clientSubscription"?(o(),h(a,{key:2,icon:["fas","basket-shopping"]})):_.toString()==="clientSubscriptionPrice"?(o(),h(a,{key:3,icon:["fas","money-check"]})):_.toString()==="status"?(o(),h(a,{key:4,icon:["fas","truck"]})):p("",!0)]),D(u(_==="clientName"?"Nome do cliente: ":_==="clientEmail"?"Email do cliente: ":_==="clientSubscription"?"Tipo de assinatura: ":_==="clientSubscriptionPrice"?"Valor: ":_==="status"?"Status do pedido: ":"")+" ",1),V,D(" "+u(m),1)],2)):p("",!0)],64))),256))],2)],2)}}}),j="_request-data_zyndu_1",G="_close_zyndu_17",J="_request-data__title_zyndu_27",K="_request-data__list_zyndu_33",Q="_request-data__info_zyndu_40",W="_user-info_zyndu_45",X={"request-data":"_request-data_zyndu_1",requestData:j,close:G,"request-data__title":"_request-data__title_zyndu_27",requestDataTitle:J,"request-data__list":"_request-data__list_zyndu_33",requestDataList:K,"request-data__info":"_request-data__info_zyndu_40",requestDataInfo:Q,"user-info":"_user-info_zyndu_45",userInfo:W},Y={$style:X},Z=S(O,[["__cssModules",Y]]),x=t("th",null,"ID",-1),ee=t("th",null,"Cliente",-1),te=t("th",null,"Email",-1),se=t("th",null,"Assinatura",-1),ne=t("th",null,"Valor",-1),ae=t("th",null,"Status",-1),oe=[x,ee,te,se,ne,ae],ie=["onClick"],le=["onClick"],ue=["onClick"],ce=["onClick"],re=["onClick"],_e=["onClick"],de=["onClick"],qe=["onClick"],fe=["onClick"],he=["onClick"],pe=["onClick"],me=["onClick"],ye=["onClick"],ge=["onClick"],$e=["onClick"],ve=["onClick"],be={key:2},ke=C({__name:"RequestsBoard",props:{filterInUse:{},filteredRequest:{},requests:{}},emits:["changeRequest","showRequestData"],setup(b,{emit:q}){const l=s=>{q("changeRequest",s)},r=s=>{q("showRequestData",s)};return(s,f)=>(o(),c("div",{class:n(s.$style.requestsBoard)},[t("table",{class:n(s.$style.requestsTable)},[t("thead",{class:n(s.$style.requestsHeader)},[t("tr",{class:n(s.$style.requestsHeaderRow)},oe,2)],2),t("tbody",{class:n(s.$style.requestsList)},[s.filterInUse==="any"?(o(!0),c(y,{key:0},R(s.requests,e=>(o(),c("tr",{class:n(s.$style.requestsListRow)},[t("td",{onClick:a=>r(e)},u(e.id),9,ie),t("td",{onClick:a=>r(e)},u(e.clientName),9,le),t("td",{onClick:a=>r(e)},u(e.clientEmail),9,ue),t("td",{onClick:a=>r(e)},u(e.clientSubscription),9,ce),t("td",{onClick:a=>r(e)},u(Number(e.clientSubscriptionPrice).toFixed(2).replace(".",",")),9,re),t("td",null,[e.status==="pendente"?(o(),c("button",{key:0,onClick:a=>l(e.id),type:"button",class:n(s.$style.pending)},u(e.status),11,_e)):e.status==="finalizada"?(o(),c("button",{key:1,onClick:a=>l(e.id),type:"button",class:n(s.$style.finished)},u(e.status),11,de)):(o(),c("button",{key:2,onClick:a=>l(e.id),type:"button",class:n(s.$style.processing)},u(e.status),11,qe))])],2))),256)):s.filterInUse&&s.filteredRequest?(o(!0),c(y,{key:1},R(s.filteredRequest,e=>(o(),c("tr",{class:n(s.$style.requestsListRow)},[t("td",{onClick:a=>r(e)},u(e.id),9,fe),t("td",{onClick:a=>r(e)},u(e.clientName),9,he),t("td",{onClick:a=>r(e)},u(e.clientEmail),9,pe),t("td",{onClick:a=>r(e)},u(e.clientSubscription),9,me),t("td",{onClick:a=>r(e)},u(Number(e.clientSubscriptionPrice).toFixed(2).replace(".",",")),9,ye),t("td",null,[e.status==="pendente"?(o(),c("button",{key:0,onClick:a=>l(e.id),type:"button",class:n(s.$style.pending)},u(e.status),11,ge)):e.status==="finalizada"?(o(),c("button",{key:1,onClick:a=>l(e.id),type:"button",class:n(s.$style.finished)},u(e.status),11,$e)):(o(),c("button",{key:2,onClick:a=>l(e.id),type:"button",class:n(s.$style.processing)},u(e.status),11,ve))])],2))),256)):p("",!0),s.filterInUse!=="any"&&s.filteredRequest.length===0?(o(),c("tr",be," Nenhum pedido para listar ")):p("",!0)],2)],2)],2))}}),Re="_requests-board_cdq4t_1",Ce="_requests-table_cdq4t_4",Se="_requests-header_cdq4t_9",we="_requests-header__row_cdq4t_12",De="_requests-list_cdq4t_30",Ie="_requests-list__row_cdq4t_38",ze="_processing_cdq4t_68",Ee="_finished_cdq4t_72",Ae="_pending_cdq4t_76",Ne={"requests-board":"_requests-board_cdq4t_1",requestsBoard:Re,"requests-table":"_requests-table_cdq4t_4",requestsTable:Ce,"requests-header":"_requests-header_cdq4t_9",requestsHeader:Se,"requests-header__row":"_requests-header__row_cdq4t_12",requestsHeaderRow:we,"requests-list":"_requests-list_cdq4t_30",requestsList:De,"requests-list__row":"_requests-list__row_cdq4t_38",requestsListRow:Ie,processing:ze,finished:Ee,pending:Ae},Te={$style:Ne},Le=S(ke,[["__cssModules",Te]]),Fe=t("option",{value:"pendente"},"Pendente",-1),He=t("option",{value:"finalizada"},"Finalizada",-1),Pe=[Fe,He],Be=t("button",{type:"submit"},"Alterar",-1),Me=C({__name:"requests",setup(b){const q=z([{id:1,clientName:"Douglas Silva",clientEmail:"devdouglassilva@gmail.com",clientSubscription:"Plano mensal",clientSubscriptionPrice:46.2,status:"pendente"},{id:2,clientName:"Douglas Souza",clientEmail:"devdouglassilva@gmail.com",clientSubscription:"Plano mensal",clientSubscriptionPrice:34.3,status:"finalizada"}]);B(()=>{});const l=A();I(()=>{});const r=$("any");let s;const f=i=>{i!==r.value&&(r.value=i),i==="any"?s=q:(i==="finalizada"||i==="pendente")&&(s=q.filter(d=>d.status===i))},e=$(!1);let a;const m=$(0),_=$(!1),N=i=>{q.find((d,g)=>{d.id===Number(i)&&(e.value=!0,l.checkIfIsActive("change-request-status")||l.setActiveElement("change-request-status"),a=q[g],console.log(q[g],a))})},T=i=>{const d=new FormData(i.target).get("request-status");a.status=d,e.value=!1,l.setActiveElement("change-request-status")},L=()=>{e.value=!1,l.resetActiveElement()},F=i=>{q.find(d=>{d.id===Number(i.id)&&(m.value=i.id,_.value=!0,l.setActiveElement("request-data"))})},H=()=>{_.value=!_,l.resetActiveElement()};return(i,d)=>{const g=E("font-awesome-icon");return o(),c(y,null,[_.value&&v(l).checkIfIsActive("request-data")?(o(),h(Z,{key:0,requests:q,requestId:m.value,onCloseRequestData:H},null,8,["requests","requestId"])):p("",!0),t("div",{class:n(i.$style.panelRequests)},[k(U,{name:"fade"},{default:M(()=>[e.value&&v(l).checkIfIsActive("change-request-status")?(o(),c("div",{key:0,class:n(i.$style.changeRequestStatus)},[t("span",{onClick:L,class:n(i.$style.cancel)},[k(g,{icon:["fas","close"]})],2),t("h2",{class:n(i.$style.changeRequestStatusTitle)}," Defina o status da requisição ",2),t("form",{action:"#",class:n(i.$style.changeRequestStatusForm),onSubmit:T},[t("select",{name:"request-status",id:"request-status",class:n(i.$style.changeRequestStatusOption)},Pe,2),Be],34)],2)):p("",!0)]),_:1}),t("div",{class:n(i.$style.filterRequests)},[t("menu",{class:n(i.$style.menu)},[t("li",null,[t("button",{onClick:d[0]||(d[0]=w=>f("any")),type:"button"},"Acompanhar")]),t("li",null,[t("button",{onClick:d[1]||(d[1]=w=>f("finalizada")),type:"button"}," Finalizados ")]),t("li",null,[t("button",{onClick:d[2]||(d[2]=w=>f("pendente")),type:"button"},"Pendentes")])],2)],2),k(Le,{onChangeRequest:N,onShowRequestData:F,requests:q,filterInUse:r.value,filteredRequest:v(s)},null,8,["requests","filterInUse","filteredRequest"])],2)],64)}}}),Ue="_panel-requests_1l66f_1",Ve="_filter-requests_1l66f_4",Oe="_menu_1l66f_12",je="_requests-board_1l66f_50",Ge="_requests-table_1l66f_56",Je="_requests-header_1l66f_63",Ke="_requests-header__row_1l66f_67",Qe="_requests-list_1l66f_82",We="_requests-list__row_1l66f_88",Xe="_processing_1l66f_113",Ye="_finished_1l66f_117",Ze="_pending_1l66f_121",xe="_change-request-status_1l66f_138",et="_cancel_1l66f_155",tt="_change-request-status__title_1l66f_165",st="_change-request-status__form_1l66f_170",nt="_change-request-status__option_1l66f_184",at={"panel-requests":"_panel-requests_1l66f_1",panelRequests:Ue,"filter-requests":"_filter-requests_1l66f_4",filterRequests:Ve,menu:Oe,"requests-board":"_requests-board_1l66f_50",requestsBoard:je,"requests-table":"_requests-table_1l66f_56",requestsTable:Ge,"requests-header":"_requests-header_1l66f_63",requestsHeader:Je,"requests-header__row":"_requests-header__row_1l66f_67",requestsHeaderRow:Ke,"requests-list":"_requests-list_1l66f_82",requestsList:Qe,"requests-list__row":"_requests-list__row_1l66f_88",requestsListRow:We,processing:Xe,finished:Ye,pending:Ze,"change-request-status":"_change-request-status_1l66f_138",changeRequestStatus:xe,cancel:et,"change-request-status__title":"_change-request-status__title_1l66f_165",changeRequestStatusTitle:tt,"change-request-status__form":"_change-request-status__form_1l66f_170",changeRequestStatusForm:st,"change-request-status__option":"_change-request-status__option_1l66f_184",changeRequestStatusOption:nt};const ot={$style:at},ut=S(Me,[["__cssModules",ot]]);export{ut as default};
